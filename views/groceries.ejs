<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groceries</title>
    <link rel="stylesheet" href="/groceries.css">

</head>

<body>
    <div class="container">
        <h1>Groceries</h1>

        <ul class="list" id="checklist"></ul>
        <div class="item-adder">
            <input type="text" id="itemInput" placeholder="Add item">

            <div class="buttons">

                <button onclick="addItem()">Add</button>
                <button onclick="clearChecked()">Clear Checked</button>
                <button onclick="clearAll()">Clear All</button>
            </div>
        </div>

        <script>
            function addItem() {
                const input = document.getElementById("itemInput");
                const itemText = input.value.trim();

                if (itemText === "") {
                    return;
                }

                const li = document.createElement("li");
                li.classList.add("item");

                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";

                const label = document.createElement("label");
                label.textContent = itemText;

                li.appendChild(checkbox);
                li.appendChild(label);

                document.getElementById("checklist").appendChild(li);

                checklist.scrollTop = checklist.scrollHeight; // Scroll to the bottom when list gets long

                input.value = "";
            }

            function clearChecked() {
                const items = document.querySelectorAll("#checklist .item");
                items.forEach(item => {
                    const checkbox = item.querySelector("input[type='checkbox']");
                    if (checkbox.checked) {
                        item.remove();
                    }
                });
            }

            function clearAll() {
                document.getElementById("checklist").innerHTML = "";
            }

            document.getElementById("itemInput").addEventListener("keypress", function (event) {
                if (event.key === "Enter") { 
                    event.preventDefault();   
                    addItem();   
                }
            });
        </script>
    </div>
</body>

</html>