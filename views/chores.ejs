<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chores Board</title>
    <link rel="stylesheet" href="/styles/chores.css">
</head>

<body>
    <div class="container">
        <div class="compartment" id="urgent">
            <h2>Urgent</h2>
            <ul id="urgent-list"></ul>
            <input type="text" id="new-urgent-title" placeholder="Chore title">
            <textarea id="new-urgent-comment" placeholder="Optional comment"></textarea>
            <button onclick="addChore('urgent')">Add</button>
        </div>
        <div class="compartment" id="sort-of-urgent">
            <h2>Not So Urgent</h2>
            <ul id="sort-of-urgent-list"></ul>
            <input type="text" id="new-sort-of-urgent-title" placeholder="Chore title">
            <textarea id="new-sort-of-urgent-comment" placeholder="Optional comment"></textarea>
            <button onclick="addChore('sort-of-urgent')">Add</button>
        </div>
        <div class="compartment" id="low-urgency">
            <h2>Low Urgency</h2>
            <ul id="low-urgency-list"></ul>
            <input type="text" id="new-low-urgency-title" placeholder="Chore title">
            <textarea id="new-low-urgency-comment" placeholder="Optional comment"></textarea>
            <button onclick="addChore('low-urgency')">Add</button>
        </div>
    </div>


    <script>
        // Function to add a chore to the list
        function addChore(urgency) {
            const titleInput = document.getElementById(`new-${urgency}-title`);
            const commentInput = document.getElementById(`new-${urgency}-comment`);
            const list = document.getElementById(`${urgency}-list`);

            const choreTitle = titleInput.value.trim();
            const choreComment = commentInput.value.trim(); // Assuming you want to add a comment

            if (choreTitle) {
                const li = document.createElement('li');
                li.className = 'chore-item'; 

                // Add chore title
                const titleDiv = document.createElement('div');
                titleDiv.className = 'chore-title';
                titleDiv.textContent = choreTitle;

                // Add chore comment (optional/ if needed)
                if (choreComment) {
                    const commentDiv = document.createElement('div');
                    commentDiv.className = 'chore-comment';
                    commentDiv.textContent = choreComment; 

                    li.appendChild(titleDiv); // Title first
                    li.appendChild(commentDiv); // Comment second
                } else {
                    li.appendChild(titleDiv); // Only title if no comment
                }

                // Add timestamp
                const timestampDiv = document.createElement('div');
                timestampDiv.className = 'chore-timestamp';
                const now = new Date();
                timestampDiv.textContent = `Added on: ${now.toLocaleDateString()} at ${now.toLocaleTimeString()}`;
                li.appendChild(timestampDiv);

                // Add delete button
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'X';
                deleteBtn.className = 'delete-btn';
                deleteBtn.onclick = function () {
                    list.removeChild(li);
                };

                li.appendChild(deleteBtn);
                list.appendChild(li);

                // Clear the input fields
                titleInput.value = '';
                commentInput.value = '';
            } else {
                alert('Please enter a chore title');
            }
        }

        // Add event listeners for "Enter" key
        document.querySelectorAll('input[type="text"], textarea').forEach(input => {
            input.addEventListener('keypress', function (event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Prevent form submission or default behavior
                    const urgency = this.id.split('-')[1]; 
                    addChore(urgency);
                }
            });
        });

    </script>

</body>

</html>